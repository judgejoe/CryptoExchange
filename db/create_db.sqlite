PRAGMA foreign_keys = ON;

CREATE TABLE users (
	id INTEGER PRIMARY KEY,
	name VARCHAR(255),
	password VARCHAR(255),
	pubkey BLOB
);

CREATE TABLE currencies (
	id INTEGER PRIMARY KEY,
	code VARCHAR(255) UNIQUE,
	name VARCHAR(255)
);

CREATE TABLE transaction_types (
	id INTEGER PRIMARY KEY,
	name VARCHAR(255) UNIQUE
);

CREATE TABLE transactions (
	id INTEGER PRIMARY KEY,
	transaction_type_id INTEGER,
	user_id INTEGER,
	currency_id INTEGER,
	amount FLOAT,
	FOREIGN KEY(user_id) REFERENCES users(id),
	FOREIGN KEY(currency_id) REFERENCES currencies(id),
	FOREIGN KEY(transaction_type_id) REFERENCES transaction_types(id)
);

